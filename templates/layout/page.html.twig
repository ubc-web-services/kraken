{#
/**
 * @file
 * Theme override to display a single page.
 *
 * The doctype, html, head and body tags are not in this template. Instead they
 * can be found in the html.html.twig template in this directory.
 *
 * Available variables:
 *
 * General utility variables:
 * - base_path: The base URL path of the Drupal installation. Will usually be
 *   "/" unless you have installed Drupal in a sub-directory.
 * - is_front: A flag indicating if the current page is the front page.
 * - logged_in: A flag indicating if the user is registered and signed in.
 * - is_admin: A flag indicating if the user has permission to access
 *   administration pages.
 *
 * Site identity:
 * - front_page: The URL of the front page. Use this instead of base_path when
 *   linking to the front page. This includes the language domain or prefix.
 * - logo: The url of the logo image, as defined in theme settings.
 * - site_name: The name of the site. This is empty when displaying the site
 *   name has been disabled in the theme settings.
 * - site_slogan: The slogan of the site. This is empty when displaying the site
 *   slogan has been disabled in theme settings.
 *
 * Page content (in order of occurrence in the default page.html.twig):
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title: The page title, for use in the actual content.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 * - tabs: Tabs linking to any sub-pages beneath the current page (e.g., the
 *   view and edit tabs when displaying a node).
 * - action_links: Actions local to the page, such as "Add menu" on the menu
 *   administration interface.
 * - node: Fully loaded node, if there is an automatically-loaded node
 *   associated with the page and the node ID is the second argument in the
 *   page's path (e.g. node/12345 and node/12345/revisions, but not
 *   comment/reply/12345).
 *
 * Regions:
 * - page.header: Items for the header region.
 * - page.primary_menu: Items for the primary menu region.
 * - page.secondary_menu: Items for the secondary menu region.
 * - page.highlighted: Items for the highlighted content region.
 * - page.help: Dynamic help text, mostly for admin pages.
 * - page.content: The main content of the current page.
 * - page.sidebar_primary: Items for the first sidebar.
 * - page.sidebar_secondary: Items for the second sidebar.
 * - page.secondary_content: Items for the secondary content region
 * - page.prefooter: Items for the prefooter content region
 * - page.footer: Items for the footer region.
 * - page.breadcrumb: Items for the breadcrumb region.
 *
 * @see template_preprocess_page()
 * @see html.html.twig
 */
#}
{% set main_content_attributes = create_attribute() %}
{% set breadcrumb_attributes = create_attribute() %}
{% set sidebar_primary_upper_attributes = create_attribute() %}
{% set sidebar_secondary_upper_attributes = create_attribute() %}
{% set sidebar_primary_attributes = create_attribute() %}
{% set sidebar_secondary_attributes = create_attribute() %}
{% set secondary_content_attributes = create_attribute() %}
{% set prefooter_attributes = create_attribute() %}
{% set sidebar_primary_upper_exists = page.sidebar_primary_upper|render|striptags('<img><video><audio><drupal-render-placeholder>')|trim is not empty %}
{% set sidebar_secondary_upper_exists = page.sidebar_secondary_upper|render|striptags('<img><video><audio><drupal-render-placeholder>')|trim is not empty %}
{% set sidebar_primary_exists = page.sidebar_primary|render|striptags('<img><video><audio><drupal-render-placeholder>')|trim is not empty %}
{% set sidebar_secondary_exists = page.sidebar_secondary|render|striptags('<img><video><audio><drupal-render-placeholder>')|trim is not empty %}

{%
  set grid_classes = [
    'container',
    'grid',
    'grid-cols-1',
    'md--grid-cols-12',
    'gap-8',
    'my-12',
    'px-5',
    'mx-auto',
    'md--px-4',
  ]
%}
{% if sidebar_primary_upper_exists %}
  {%
    set leftupper_classes = [
      'has-sidebar-left-upper',
    ]
  %}
{% endif %}
{% if sidebar_primary_exists %}
  {%
    set leftlower_classes = [
      'has-sidebar-left-lower',
    ]
  %}
{% endif %}
{% if sidebar_primary_upper_exists and sidebar_primary_exists %}
  {%
    set leftside_classes = [
      'has-sidebars-left',
    ]
  %}
  {%
    set leftlower_classes = [
      '',
    ]
  %}
  {%
    set leftupper_classes = [
      '',
    ]
  %}
{% endif %}
{% if sidebar_secondary_upper_exists %}
  {%
    set rightupper_classes = [
      'has-sidebar-right-upper',
    ]
  %}
{% endif %}
{% if sidebar_secondary_exists %}
  {%
    set rightlower_classes = [
      'has-sidebar-right-lower',
    ]
  %}
{% endif %}
{% if sidebar_secondary_upper_exists and sidebar_secondary_exists %}
  {%
    set rightside_classes = [
      'has-sidebars-right',
    ]
  %}
  {%
    set rightlower_classes = [
      '',
    ]
  %}
  {%
    set rightupper_classes = [
      '',
    ]
  %}
{% endif %}

<noscript>
  <strong>We're sorry but this site doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
</noscript>

<div id="main-content">

  {% if page.pre_content %}
    {{ page.pre_content }}
  {% endif %}

  {% block clftop %}
    {% if (clf_version == '8') %}
      {% include '@kraken/includes/header.html.twig' %}
    {% else %}
      {% include '@kraken/includes/header.clf7.html.twig' %}
    {% endif %}
  {% endblock clftop %}

  {% block alert_region %}
    {% if page.alert_region %}
      {{ page.alert_region }}
    {% endif %}
  {% endblock alert_region %}

  {% block masthead %}
    {% if page.masthead %}
      <section id="masthead" class="overflow-hidden masthead">
        {{ page.masthead }}
      </section>
    {% endif %}
  {% endblock masthead %}

  {% block unitcontent %}
    <div id="unit-content">
      <main>

        {% block breadcrumb %}
          {% if page.breadcrumb %}
            <div{{ breadcrumb_attributes.addClass('container', 'px-5', 'mx-auto', 'md--px-4') }}>
              {{ page.breadcrumb }}
            </div>
          {% endif %}
        {% endblock breadcrumb %}

        {% block masthead_lower %}
          {% if page.masthead_lower %}
            <section id="masthead_lower" class="overflow-hidden masthead_lower">
              {{ page.masthead_lower }}
            </section>
          {% endif %}
        {% endblock masthead_lower %}

        {% block main_grid %}
          <div{{ attributes.addClass(grid_classes, leftupper_classes, leftlower_classes, leftside_classes, rightupper_classes, rightlower_classes, rightside_classes).setAttribute('id', 'main-grid') }}>

            {% block sidebar_primary_upper %}
              {% if sidebar_primary_upper_exists %}
                <section{{ sidebar_primary_upper_attributes.setAttribute('id', 'sidebar-primary_upper') }}>
                  {{ page.sidebar_primary_upper }}
                </section>
              {% endif %}
            {% endblock sidebar_primary_upper %}

            {% block sidebar_secondary_upper %}
              {% if sidebar_secondary_upper_exists %}
                <section{{ sidebar_secondary_upper_attributes.setAttribute('id', 'sidebar-secondary_upper') }}>
                  {{ page.sidebar_secondary_upper }}
                </section>
              {% endif %}
            {% endblock sidebar_secondary_upper %}

            {% block primary_content %}
              <div{{ main_content_attributes.setAttribute('id', 'primary-content') }}>
                {% if page.heading %}
                  {{ page.heading }}
                {% endif %}
                {% if page.help %}
                  <div id="help-region">{{ page.help }}</div>
                {% endif %}
                <section class="section">
                  {% if page.highlighted %}
                    <div id="highlighted">{{ page.highlighted }}</div>
                  {% endif %}
                  {% block content %}
                    {{ page.content }}
                  {% endblock content %}
                </section>
              </div>
            {% endblock primary_content %}

            {% block sidebar_primary %}
              {% if sidebar_primary_exists %}
                <section{{ sidebar_primary_attributes.setAttribute('id', 'sidebar-primary') }}>
                  {{ page.sidebar_primary }}
                </section>
              {% endif %}
            {% endblock sidebar_primary %}

            {% block sidebar_secondary %}
              {% if sidebar_secondary_exists %}
                <section{{ sidebar_secondary_attributes.setAttribute('id', 'sidebar-secondary') }}>
                  {{ page.sidebar_secondary }}
                </section>
              {% endif %}
            {% endblock sidebar_secondary %}

          </div>
        {% endblock main_grid %}

        {% block grid %}
          {% if page.grid %}
            <section id="grid-region" class="container grid grid-cols-1 gap-12 px-5 mx-auto my-12 md--px-4 sm--grid-cols-2 md--grid-cols-3">
              {{ page.grid }}
            </section>
          {% endif %}
        {% endblock grid %}


        {% block secondary_content %}
          {% if page.secondary_content %}
            <section{{ secondary_content_attributes.setAttribute('id', 'secondary-content').addClass('container', 'px-5', 'mx-auto', 'md--px-4') }}>
              {{ page.secondary_content }}
            </section>
          {% endif %}
        {% endblock secondary_content %}

        {% block prefooter %}
          {% if page.prefooter %}
            <div{{ prefooter_attributes.setAttribute('id', 'prefooter-content') }}>
              {{ page.prefooter }}
            </div>
          {% endif %}
        {% endblock prefooter %}

      </main>
    </div>
  {% endblock unitcontent %}

  {% block clfbottom %}
    {% if (clf_version == '8') %}
      {% include '@kraken/includes/footer.html.twig' %}
    {% else %}
      {% include '@kraken/includes/footer.clf7.html.twig' %}
    {% endif %}
    {% include '@kraken/includes/totop-button.html.twig' %}
  {% endblock clfbottom %}

</div>

{% include '@kraken/includes/svg.html.twig' %}
